<!doctype html>

<!-- ASSIGN OUR ANGULAR MODULE -->
<html ng-app="MainApp">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Calculadora de colas</title>
	<!-- Cargamos bootstrap -->
	<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css">
	<!-- Cargamos angular -->
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular.min.js"></script>
	<!-- Cargamos el javascript de angular -->
	<script src="core.js"></script>

</head>
<body ng-controller="mainController">
	<div class="container">

		<div class="jumbotron text-center" ng-prueba>
			<h1>NÂº de Registros: <span class="label label-success">{{ tubos.length }}</span></h1>
		</div>

		<div class="row">
			<div class="col-sm-6 col-sm-offset-1">
				<table class="table table-striped">
					<tr class="info">
						<td><b><i>Diametro</i></b></td>
						<td><b><i>Cantidad cola*100</i></b></td>
						<td><b><i>Accesorios</i></b></td>
						<td><b><i>Encoladuras</i></b></td>
						<td><b><i>Cantidad</i></b></td>
						<td><b><i>Botes(1kg)</i></b></td>
					</tr>
					<tr ng-repeat="tubo in tubos" ng-click="selectTubo(tubo)">
						<td>{{ tubo.diametro }}</td>
						<td>{{ tubo.cola }}</td>
						<td>{{ tubo.accesorios }}</td>
						<td>{{ tubo.encoladuras }}</td>
						<td>{{ tubo.cantidad }}</td>
						<td>{{ tubo.botes }}</td>
					</tr>
				</table>					
			</div>
			<div class="col-sm-4 col-sm-offset-1 text-center">
				<form name="myForm">
					<div class="form-group">
						<!--
						<input type="text" class="form-control input-lg text-center" placeholder="Diametro" ng-model="newTubo.diametro" required/>
						<br>
						<input type="text" class="form-control input-lg text-center" placeholder="Cola CPVC * 100 encoladuras" ng-model="newTubo.cola" required/>
						-->
						<label for="sel1">Diametro tubo:</label>
						<select class="form-control" id="sel1" ng-model="newTubo.diametro" convert-to-number>
							<option value="16">16</option>
							<option value="20">20</option>
							<option value="25">25</option>
							<option value="32">32</option>
							<option value="40">40</option>
							<option value="50">50</option>
							<option value="63">63</option>
							<option value="75">75</option>
							<option value="90">90</option>
							<option value="110">110</option>
							<option value="125">125</option>
							<option value="160">160</option>
						</select>
						<br>
						<label for="sel2">Cola CPVC * 100 encoladuras:</label>
						<select class="form-control" id="sel2" ng-model="newTubo.cola" convert-to-number>
							<option value="125">125</option>
							<option value="250">250</option>
							<option value="250">250</option>
							<option value="250">250</option>
							<option value="800">800</option>
							<option value="900">900</option>
							<option value="1000">1000</option>
							<option value="1800">1800</option>
							<option value="2000">2000</option>
							<option value="2000">2000</option>
							<option value="2700">2700</option>
							<option value="5000">5000</option>
						</select>
						<br>
						<input type="text" class="form-control input-lg text-center" placeholder="Accesorios" ng-model="newTubo.accesorios" required/>
					</div>

					<!-- Acciones que podemos realizar en el formulario -->
					<button type="submit" class="btn btn-success btn-lg" ng-click="registrarTubo()" ng-disabled="myForm.$invalid || selected">Registrar</button>
					<button type="submit" class="btn btn-warning btn-lg" ng-click="modificarTubo(newTubo)" ng-disabled="!newTubo.diametro || !newTubo.cola || !newTubo.accesorios || !selected">Modificar</button>
					<button type="submit" class="btn btn-danger btn-lg" ng-click="borrarTubo(newTubo)" ng-disabled="!newTubo.diametro || !newTubo.cola || !newTubo.accesorios || !selected">Borrar</button>
				</form>
			</div>
		</div>
	</div>
</body>
</html>
